{"ast":null,"code":"import { ADD_TO_CART, REMOVE_FROM_CART, REMOVE_1_FROM_CART } from \"../types\";\nexport const addToCart = product => (dispatch, getState) => {\n  const cartItems = getState().cart.cartItems.slice();\n  let alreadyExists = false;\n  cartItems.forEach(x => {\n    if (x._id === product._id) {\n      alreadyExists = true;\n      x.count++;\n    }\n  });\n\n  if (!alreadyExists) {\n    cartItems.push({ ...product,\n      count: 1\n    });\n  }\n\n  dispatch({\n    type: ADD_TO_CART,\n    payload: {\n      cartItems\n    }\n  });\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n};\nexport const removeFromCart = product => (dispatch, getState) => {\n  const cartItems = getState().cart.cartItems.slice().filter(x => x._id !== product._id);\n  dispatch({\n    type: REMOVE_FROM_CART,\n    payload: {\n      cartItems\n    }\n  });\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n};\nexport const removeAnItemFromCart = product => (dispatch, getState) => {\n  const cartItems = getState().cart.cartItems.slice().filter(x => {\n    if (x._id === product._id) {\n      product.count = product.count - 1;\n    }\n\n    return product;\n  });\n  dispatch({\n    type: REMOVE_1_FROM_CART,\n    payload: {\n      cartItems\n    }\n  });\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n};","map":{"version":3,"sources":["/Users/quonnbernard/REDUX-CART/react-redux-cart/react-cart/src/redux/actions/cartActions.js"],"names":["ADD_TO_CART","REMOVE_FROM_CART","REMOVE_1_FROM_CART","addToCart","product","dispatch","getState","cartItems","cart","slice","alreadyExists","forEach","x","_id","count","push","type","payload","localStorage","setItem","JSON","stringify","removeFromCart","filter","removeAnItemFromCart"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,gBAAtB,EAAwCC,kBAAxC,QAAkE,UAAlE;AAEA,OAAO,MAAMC,SAAS,GAAIC,OAAD,IAAa,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAC5D,QAAMC,SAAS,GAAGD,QAAQ,GAAGE,IAAX,CAAgBD,SAAhB,CAA0BE,KAA1B,EAAlB;AACA,MAAIC,aAAa,GAAG,KAApB;AACAH,EAAAA,SAAS,CAACI,OAAV,CAAmBC,CAAD,IAAO;AACvB,QAAIA,CAAC,CAACC,GAAF,KAAUT,OAAO,CAACS,GAAtB,EAA2B;AACzBH,MAAAA,aAAa,GAAG,IAAhB;AACAE,MAAAA,CAAC,CAACE,KAAF;AACD;AACF,GALD;;AAMA,MAAI,CAACJ,aAAL,EAAoB;AAClBH,IAAAA,SAAS,CAACQ,IAAV,CAAe,EAAE,GAAGX,OAAL;AAAcU,MAAAA,KAAK,EAAE;AAArB,KAAf;AACD;;AACDT,EAAAA,QAAQ,CAAC;AACPW,IAAAA,IAAI,EAAEhB,WADC;AAEPiB,IAAAA,OAAO,EAAE;AAAEV,MAAAA;AAAF;AAFF,GAAD,CAAR;AAIAW,EAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCC,IAAI,CAACC,SAAL,CAAed,SAAf,CAAlC;AACD,CAjBM;AAmBP,OAAO,MAAMe,cAAc,GAAIlB,OAAD,IAAa,CAACC,QAAD,EAAWC,QAAX,KAAwB;AACjE,QAAMC,SAAS,GAAGD,QAAQ,GACvBE,IADe,CACVD,SADU,CACAE,KADA,GAEfc,MAFe,CAEPX,CAAD,IAAOA,CAAC,CAACC,GAAF,KAAUT,OAAO,CAACS,GAFjB,CAAlB;AAGAR,EAAAA,QAAQ,CAAC;AAAEW,IAAAA,IAAI,EAAEf,gBAAR;AAA0BgB,IAAAA,OAAO,EAAE;AAAEV,MAAAA;AAAF;AAAnC,GAAD,CAAR;AACAW,EAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCC,IAAI,CAACC,SAAL,CAAed,SAAf,CAAlC;AACD,CANM;AAQP,OAAO,MAAMiB,oBAAoB,GAAIpB,OAAD,IAAa,CAACC,QAAD,EAAWC,QAAX,KAAwB;AACvE,QAAMC,SAAS,GAAGD,QAAQ,GACvBE,IADe,CACVD,SADU,CACAE,KADA,GAEfc,MAFe,CAEPX,CAAD,IAAO;AACb,QAAGA,CAAC,CAACC,GAAF,KAAUT,OAAO,CAACS,GAArB,EAAyB;AACvBT,MAAAA,OAAO,CAACU,KAAR,GAAgBV,OAAO,CAACU,KAAR,GAAgB,CAAhC;AACD;;AACF,WAAOV,OAAP;AACA,GAPe,CAAlB;AASAC,EAAAA,QAAQ,CAAC;AAAEW,IAAAA,IAAI,EAAEd,kBAAR;AAA4Be,IAAAA,OAAO,EAAE;AAAEV,MAAAA;AAAF;AAArC,GAAD,CAAR;AACAW,EAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCC,IAAI,CAACC,SAAL,CAAed,SAAf,CAAlC;AACD,CAZM","sourcesContent":["import { ADD_TO_CART, REMOVE_FROM_CART, REMOVE_1_FROM_CART } from \"../types\";\n\nexport const addToCart = (product) => (dispatch, getState) => {\n  const cartItems = getState().cart.cartItems.slice();\n  let alreadyExists = false;\n  cartItems.forEach((x) => {\n    if (x._id === product._id) {\n      alreadyExists = true;\n      x.count++;\n    }\n  });\n  if (!alreadyExists) {\n    cartItems.push({ ...product, count: 1 });\n  }\n  dispatch({\n    type: ADD_TO_CART,\n    payload: { cartItems },\n  });\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n};\n\nexport const removeFromCart = (product) => (dispatch, getState) => {\n  const cartItems = getState()\n    .cart.cartItems.slice()\n    .filter((x) => x._id !== product._id);\n  dispatch({ type: REMOVE_FROM_CART, payload: { cartItems } });\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n};\n\nexport const removeAnItemFromCart = (product) => (dispatch, getState) => {\n  const cartItems = getState()\n    .cart.cartItems.slice()\n    .filter((x) => {\n      if(x._id === product._id){\n        product.count = product.count - 1\n      }  \n     return product\n    });\n    \n  dispatch({ type: REMOVE_1_FROM_CART, payload: { cartItems } });\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n};"]},"metadata":{},"sourceType":"module"}